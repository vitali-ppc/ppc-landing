(()=>{var e={};e.id=442,e.ids=[442],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2874:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>i});var a=t(6559),o=t(8088),n=t(7719),c=t(2190);async function i(e){let r=e.nextUrl.searchParams,t=r.get("code"),s=r.get("error");if(s)return c.NextResponse.redirect(`${process.env.NEXTAUTH_URL}/chat?error=${s}`);if(!t)return c.NextResponse.redirect(`${process.env.NEXTAUTH_URL}/chat?error=no_code`);try{let e=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:process.env.GOOGLE_CLIENT_ID,client_secret:process.env.GOOGLE_CLIENT_SECRET,code:t,grant_type:"authorization_code",redirect_uri:`${process.env.NEXTAUTH_URL}/api/auth/callback`})}),r=await e.json();if(!e.ok)return console.error("Token exchange failed:",r),c.NextResponse.redirect(`${process.env.NEXTAUTH_URL}/chat?error=token_exchange_failed`);let{access_token:s,refresh_token:a}=r;return c.NextResponse.redirect(`${process.env.NEXTAUTH_URL}/chat?auth=success&access_token=${s}`)}catch(e){return console.error("OAuth callback error:",e),c.NextResponse.redirect(`${process.env.NEXTAUTH_URL}/chat?error=callback_error`)}}let p=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/auth/callback/route",pathname:"/api/auth/callback",filename:"route",bundlePath:"app/api/auth/callback/route"},resolvedPagePath:"C:\\Users\\Vitaliy\\ppc-landing\\src\\app\\api\\auth\\callback\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:u,workUnitAsyncStorage:d,serverHooks:l}=p;function h(){return(0,n.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:d})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,580],()=>t(2874));module.exports=s})();